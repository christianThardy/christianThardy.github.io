<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ToM Circuit Path</title>
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
    <header>
        <h1>ToM Circuit Path</h1>
        <nav>
            <a href="https://xtian.ai/tom-interpretability#attention-head-analysis-and-causal-tracing">Back to Blog</a>
        </nav>
    </header>
    <main>
        <div id="markdown-container">
            <!-- The Markdown content will be dynamically rendered here -->
        </div>
    </main>
    <footer>
        <p>&copy; 2025 xtian.ai</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        // Raw Markdown content
        const markdownContent = `
# ToM Circuit Path

\`\`\`markdown
                [Early PTHs L2-L6] -----> [Mid PTHs L10-L12] 
                       |                        |
                       v                        v
                [DTH L8.1] -----------------> [IHs L14-L17]
                       |                        |
                       |                        v
                       |              [Late PTHs L16-L23]
                       |                        |
                       |                        v
                       +-------------------> [CSHs L14-L23]
\`\`\`

\`\`\`markdown
[Early PTHs L2-L6] <---> [Early PTHs L2-L6]  (Strong mutual interactions)
       |||                    
       vvv
[Mid Integration Hub L10-L12]
\`\`\`

**Early Previous Token Head Processing (L2-6)**
- **Primary Function:** Initial semantic feature extraction
  - **QKVO Flow:**
    - 2.3 and 2.5's queries encode subject-object locations (\`John cat\`, \`Mark cat\`, \`basket\`, \`box\`) 
      - 2.3 keys add transition information to these encodings, reinforcing location (\`John and cat\`, \`Mark and cat\`, \`cat and basket\`, \`room and John\`, \`room and Mark\`)
        - 2.3 values project location/transition information forward to 2.5
    - 2.5 outputs encode subject-verb agreement with objects (\`John takes cat\`, \`Mark puts cat\`, \`Mark leaves room\`, \`John comes back\`)
    - 5.4 queries against 2.5's value patterns while integrating temporal context (\`John away\`, \`when away\`, \`Mark leaves room\`, \`Mark goes work\`)
      - 5.2 and 6.2 keys attend to more subject-action-location bindings (\`John thinks\`, \`John takes\`, \`Mark takes\`, \`John room school\`, \`Mark room work\`, \`John leaves room\`, \`John puts cat\`)
        - Values project refined semantic patterns forward
`;

        // Render the Markdown content
        document.getElementById("markdown-container").innerHTML = marked.parse(markdownContent);
    </script>
</body>
</html>
